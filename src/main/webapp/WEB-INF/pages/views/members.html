<div class="membersWrap" ng-click="buttonAction($event)"> <!--change class style-->
    <div class="navbar-inner">
        <div class="span4">
            <input placeholder="Søk..." type="text" ng-model="searchText" class="searchBox" style="margin-bottom:0px">
        </div>
        <div class="btn-group" style="margin-top: 5px" data-ng-class="{open: open}">
            <button class="btn dropdown-toggle" data-ng-click="open=!open">
                Filtrer etter gruppe <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
                <input placeholder="Søk etter gruppe..." type = "text" ng-model="groupSearch" class="searchGroup"/>
                <li>
                    <a data-ng-click="checkAll()">
                        <i class="icon-ok-sign"></i>  Check All</a>
                </li>
                <li>
                    <a data-ng-click="uncheck()">
                        <i class="icon-remove-sign"></i> Uncheck all</a>
                </li>
                <li class="divider"></li>
                <div class="filterScrollBar pull-right">
                    <li data-ng-repeat="group in tmpGroupList | filter:groupSearch">
                        <a data-ng-click="personInGroup(group)">
                            {{group}}
                            <span data-ng-class="isChecked(group)"></span>
                        </a>
                    </li>
                </div>
            </ul>
        </div>
        <button class="btn" style="margin-top:5px; border-radius:20px" ng-show="groupsSelected.length > 0" data-ng-click="uncheck()">X</button>
    </div>
    <div class="row-fluid">
        <div>
            <img src="../img/ajax-loader.gif" ng-if="!shownPeople.length" style="margin: auto;display:block"/>
            <table class="table table-bordered" ng-if="shownPeople.length">
                <thead>
                <tr>
                    <th ng-click="orderField = (orderField == 'lastName' ? '-':'') + 'lastName'" class="tableHeader">Etternavn
                    <span class="pull-right">{{orderField == 'lastName' ? '&and;':'&or;'}}</span></th>
                    <th ng-click="orderField = (orderField == 'firstName' ? '-':'') + 'firstName'" class="tableHeader">Fornavn
                        <span class="pull-right">{{orderField == 'firstName' ? '&and;':'&or;'}}</span></th></th>
                    <th ng-click="orderField = (orderField == 'userName' ? '-':'') + 'userName'" class="tableHeader">Brukernavn
                        <span class="pull-right">{{orderField == 'userName' ? '&and;':'&or;'}}</span></th></th>
                    <th ng-click="orderField = (orderField == 'email' ? '-':'') + 'email'" class="tableHeader">Mailadresse
                        <span class="pull-right">{{orderField == 'email' ? '&and;':'&or;'}}</span></th></th>
                    <th ng-click="orderField = (orderField == 'mobile' ? '-':'') + 'mobile'" class="tableHeader">Mobilnummer
                        <span class="pull-right">{{orderField == 'mobile' ? '&and;':'&or;'}}</span></th></th>
                    <th>Grupper</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat ="person in shownPeople | filter:searchText | orderBy:orderField" class="ng-scope tableSelection"
                    data-ng-click="navToUser(person)">
                    <td class ="ng-binding">{{person.lastName}}</td>
                    <td class ="ng-binding">{{person.firstName}}</td>
                    <td class ="ng-binding">{{person.userName}}</td>
                    <td class ="ng-binding">{{person.email}}</td>
                    <td class ="ng-binding">{{person.mobile}}</td>
                    <td class ="ng-binding">
                        <div ng-repeat = "group in person.groups">{{group}}</div></td>    <!-- TODO: add the groups individually through ng-repeat or sth.-->
                </tr>
                </tbody>
            </table>

        </div>
    </div>
</div>